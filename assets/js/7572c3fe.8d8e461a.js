"use strict";(self.webpackChunkcardano_scaling_website=self.webpackChunkcardano_scaling_website||[]).push([[45],{106:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>h});var t=i(4848),a=i(8453);const o={title:"June 2024",slug:"2024-06",authors:["jpraynaud","v0d1ch","rezabaram","ffakenz"],tags:["monthly"]},s=void 0,r={permalink:"/monthly/2024-06",editUrl:"https://github.com/cardano-scaling/website/tree/master/monthly/2024-06-monthly.md",source:"@site/monthly/2024-06-monthly.md",title:"June 2024",description:"This is a monthly report on the progress of \ud83d\udc32 Hydra and \ud83d\udee1 Mithril projects since May 2024. This document serves as a preparation for and a written summary of the monthly stakeholder review meeting, which is announced on our Discord channels and held on Google Meet. This month the meeting was held on 2024-06-24 using these slides and you can see the recording here.",date:"2024-06-25T11:10:44.000Z",formattedDate:"June 25, 2024",tags:[{label:"monthly",permalink:"/monthly/tags/monthly"}],readingTime:6.26,hasTruncateMarker:!1,authors:[{name:"Jean-Philippe Raynaud",title:"Software Engineering Lead, IOG",url:"https://github.com/jpraynaud",imageURL:"https://github.com/jpraynaud.png",key:"jpraynaud"},{name:"Sasha Bogicevic",title:"Senior Software Engineer, IOG",url:"https://github.com/v0d1ch",imageURL:"https://github.com/v0d1ch.png",key:"v0d1ch"},{name:"Reza Babaram",title:"Product Manager Scaling, IOG",url:"https://github.com/rezabaram",imageURL:"https://github.com/rezabaram.png",key:"rezabaram"},{name:"Franco Testagrossa",title:"Senior Software Engineer, IOG",url:"https://github.com/ffakenz",imageURL:"https://github.com/ffakenz.png",key:"ffakenz"}],frontMatter:{title:"June 2024",slug:"2024-06",authors:["jpraynaud","v0d1ch","rezabaram","ffakenz"],tags:["monthly"]},unlisted:!1,prevItem:{title:"July 2024",permalink:"/monthly/2024-07"},nextItem:{title:"May 2024",permalink:"/monthly/2024-05"}},d={authorsImageUrls:[void 0,void 0,void 0,void 0]},h=[{value:"Mithril",id:"mithril",level:2},{value:"Transaction certification",id:"transaction-certification",level:3},{value:"Low latency certification",id:"low-latency-certification",level:4},{value:"Increased prover performance",id:"increased-prover-performance",level:4},{value:"Mithril/Cardano integration",id:"mithrilcardano-integration",level:3},{value:"Hydra",id:"hydra",level:2},{value:"Incremental decommit",id:"incremental-decommit",level:3},{value:"Community",id:"community",level:2},{value:"Subbit.xyz",id:"subbitxyz",level:2},{value:"Hydrozoa",id:"hydrozoa",level:2},{value:"Technical working groups",id:"technical-working-groups",level:2},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["This is a monthly report on the progress of \ud83d\udc32 Hydra and \ud83d\udee1 Mithril projects since May 2024. This document serves as a preparation for and a written summary of the monthly stakeholder review meeting, which is announced on our Discord channels and held on Google Meet. This month the meeting was held on 2024-06-24 using these ",(0,t.jsx)(n.a,{href:"https://docs.google.com/presentation/d/137n0SQ2tnWCrDfPieT3JSU8MDnJDTKuLE8ISSieRO4U/edit#slide=id.g1f87a7454a5_0_1392",children:"slides"})," and ",(0,t.jsx)(n.a,{href:"https://drive.google.com/file/d/1hIn4NWv6YRtwv_7RUGlXP8ObwpPbMNJy/view",children:"you can see the recording here"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"mithril",children:"Mithril"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-05-31..2024-06-30",children:"Issues and pull requests closed in June"})}),"\n",(0,t.jsxs)(n.p,{children:["We have released the new Mithril distribution ",(0,t.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/releases/tag/2423.0",children:(0,t.jsx)(n.code,{children:"2423.0"})}),". This distribution includes several critical updates and enhancements:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"BREAKING"})," changes in the ",(0,t.jsx)(n.strong,{children:"Mithril client CLI"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The deprecated ",(0,t.jsx)(n.code,{children:"snapshot"})," command has been ",(0,t.jsx)(n.strong,{children:"removed"})]}),"\n",(0,t.jsxs)(n.li,{children:["It has been superseded by the ",(0,t.jsx)(n.code,{children:"cardano-db"})," command"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Bug fixes and optimizations."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["We have also created a developer blog post about the ",(0,t.jsx)(n.a,{href:"https://mithril.network/doc/dev-blog/2024/06/12/client-cli-removed-command",children:"removal of the Mithril client CLI 'snapshot' command"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Additionally, we have released a draft version of the ",(0,t.jsx)(n.a,{href:"https://mithril.network/doc/mithril/threat-model",children:"Mithril threat model analysis"}),". We expect to receive external feedback and contributions before considering it final."]}),"\n",(0,t.jsx)(n.h3,{id:"transaction-certification",children:"Transaction certification"}),"\n",(0,t.jsx)(n.p,{children:"We kept working on the implementation of the Cardano transaction certification with Mithril and made good progress with the development:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Transactions are now retrieved with the chain sync mini-protocol using the ",(0,t.jsx)(n.a,{href:"https://github.com/txpipe/pallas",children:(0,t.jsx)(n.code,{children:"Pallas"})})," library"]}),"\n",(0,t.jsx)(n.li,{children:"The performance of the prover route of the aggregator has significantly improved."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(8112).A+"",width:"1935",height:"516"})}),"\n",(0,t.jsx)(n.h4,{id:"low-latency-certification",children:"Low latency certification"}),"\n",(0,t.jsx)(n.p,{children:"The transactions are imported using the native chain sync mini-protocol of the Cardano node. This has been made possible with the Pallas library, which fully supports this mini-protocol. This allowed us to retrieve transactions much closer to the tip of the chain and at more frequent intervals. To achieve this, we have enhanced the transaction importer to handle chain rollbacks, where some blocks previously recorded may be discarded at a later time, with an increased probability as we get closer to the tip of the chain."}),"\n",(0,t.jsx)(n.p,{children:"We are currently calibrating the system parameters (depth from the tip and certification pace) before activating it on the mainnet."}),"\n",(0,t.jsx)(n.h4,{id:"increased-prover-performance",children:"Increased prover performance"}),"\n",(0,t.jsxs)(n.p,{children:["We have identified some bottlenecks in the computations of the merkelized proof for transaction membership of the transaction set as well as in the database access. These bottlenecks have been fixed, allowing us to achieve a new order of magnitude in the performance of the prover route. It is now able to consistently deliver ",(0,t.jsx)(n.strong,{children:"10,000"})," transaction hashes certification per second."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(1923).A+"",width:"1110",height:"672"})}),"\n",(0,t.jsx)(n.h3,{id:"mithrilcardano-integration",children:"Mithril/Cardano integration"}),"\n",(0,t.jsx)(n.p,{children:"We have been working with the Cardano networking team to design a closer integration of Mithril into Cardano. In particular, we have focused on decentralizing the signature diffusion from Mithril signers to Mithril aggregators based on the Cardano network layer."}),"\n",(0,t.jsx)(n.p,{children:"Here is the current roadmap:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Assessing Cardano network bandwidth capacity to support Mithril signature diffusion"}),"\n",(0,t.jsx)(n.li,{children:"Designing a node-to-node mini-protocol for signature diffusion"}),"\n",(0,t.jsx)(n.li,{children:"Designing two node-to-client mini-protocols for signature submission and notification"}),"\n",(0,t.jsx)(n.li,{children:"Preparing the submission of a CIP draft to the community."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(3421).A+"",width:"787",height:"487"})}),"\n",(0,t.jsx)(n.h2,{id:"hydra",children:"Hydra"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-05-31..2024-06-30",children:"Issues and pull requests closed in\nJune"})}),"\n",(0,t.jsx)(n.p,{children:"Here is a high-level overview of the team's work over the past month:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Incremental decommits."})," We continued our work on incremental decommits, focusing on investigating adversarial attacks on the head script contract."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Specification update."})," We updated our ",(0,t.jsx)(n.a,{href:"https://github.com/input-output-hk/hydra/pull/1479",children:"specification"})," with the latest changes following our exploration of adversarial attacks. These updates aim to enhance the security of the protocol."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agda specification for the Hydra protocol."})," Work has begun on writing an Agda specification for the Hydra protocol. You can follow the progress ",(0,t.jsx)(n.a,{href:"https://github.com/cardano-scaling/hydra-formal-specification",children:"here"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Incremental commit."})," We discussed various options for the incremental commit work, including potential designs for a hydra-ledger to improve system efficiency and security."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node compatibility."})," The node has been successfully updated and is now compatible with cardano-node version 8.11-pre."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Website."})," We updated our website tutorials and documentation to enhance expressivity and ease of use."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Committing internal wallet UTXOs."})," We made breaking changes to the ",(0,t.jsx)(n.code,{children:"hydra-node"})," API ",(0,t.jsx)(n.code,{children:"/commit"})," endpoint ",(0,t.jsx)(n.a,{href:"https://github.com/input-output-hk/hydra/pull/1463",children:"#1463"})," to remove the check that prevented committing UTXOs from an internal ",(0,t.jsx)(n.code,{children:"hydra-node"})," wallet."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"We have not planned the next release, so our roadmap remains largely unchanged. Our current focus is on incremental decommits and commits and specifying our protocol in Agda."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"The roadmap with features and ideas",src:i(8181).A+"",width:"1904",height:"1168"}),"\n",(0,t.jsx)("small",{children:(0,t.jsx)("center",{children:"The latest roadmap with features and ideas"})})]}),"\n",(0,t.jsx)(n.h3,{id:"incremental-decommit",children:"Incremental decommit"}),"\n",(0,t.jsx)(n.p,{children:"We were about to release the incremental decommit feature when we discovered a bug during a demo. This bug related to handling the decommit snapshot in close/fanout. When one decided to decommit funds from the head and everyone signed the decommit snapshot, the same snapshot was used to close/fanout. If this snapshot contained some UTXOs to decommit but one already decommitted funds from the head, the fanout would distribute the decommit funds again."}),"\n",(0,t.jsx)(n.p,{children:"This issue was significant, and although we have many tests around the decommit feature, we had not checked user balances upon head closure."}),"\n",(0,t.jsx)(n.p,{children:"We have implemented a fix that involves adding versioned snapshots. This allows us to distinguish between two cases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The decommit snapshot was signed, but the decommit was never observed"}),"\n",(0,t.jsx)(n.li,{children:"The decommit snapshot was signed, and the decommit was also observed."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"When we observe the decommit transaction locally, we increment the version in the local state. This allows us to compare the snapshot version against the expected local version on-chain."}),"\n",(0,t.jsxs)(n.p,{children:["We also needed to keep extra data in the ",(0,t.jsx)(n.code,{children:"Close"})," redeemer to successfully check for a valid snapshot signature while altering the close datum to remove the UTXOs to decommit if the versions do not match. This ensures that the fanout behaves correctly, as it is only concerned with the close datum and the actual transaction output hashes."]}),"\n",(0,t.jsx)(n.p,{children:"The remaining work involves updating the specification with the changes in the implementation. We expect to release this feature in the coming days."}),"\n",(0,t.jsx)(n.h2,{id:"community",children:"Community"}),"\n",(0,t.jsx)(n.h2,{id:"subbitxyz",children:"Subbit.xyz"}),"\n",(0,t.jsx)(n.p,{children:"Algy Wallis presented 'Subbit', a layer 2 solution focused on subscription-based services, aimed at addressing the complexities of building blockchain products. Subbit is designed to be easier to integrate and manage compared to layer 1 solutions, reducing latency and transaction fees. The system allows providers to verify consumer IOU notes, facilitating periodic payments and withdrawals with minimal on-chain interactions. This model mirrors Bitcoin's Lightning Network and aims to enhance scalability and interoperability for subscription services on Cardano."}),"\n",(0,t.jsx)(n.h2,{id:"hydrozoa",children:"Hydrozoa"}),"\n",(0,t.jsx)(n.p,{children:"George Flerovsky introduced the Hydrazoa proposal, currently in Catalyst Fund12. Hydrazoa aims to enhance the existing Hydra framework by adding dynamic capabilities for incremental commits and decommits, along with the ability to add or remove participants in state channels while they are still open. The goal is to simplify layer 1 scripts and lower costs, with fallback mechanisms similar to Hydra's in case of layer 2 consensus failure. George highlighted the differences and potential integrations with Hydra, emphasizing a more flexible and simplified approach to state channel management."}),"\n",(0,t.jsx)(n.h2,{id:"technical-working-groups",children:"Technical working groups"}),"\n",(0,t.jsxs)(n.p,{children:["Reza Baram provided an update on the Hydra working group, which recently had its first meeting to discuss its vision and collaborative processes. The primary goal is to create an environment for sharing knowledge and working towards scaling Cardano beyond just Hydra. The group is currently focused on defining and delivering Hydra version one, prioritizing incremental commits and robustness improvements. Feedback from the community and working group members will be sought to refine and enhance the roadmap, ensuring effective scaling solutions for Cardano applications. The Hydra working group is open to new members and contributions from the community. ",(0,t.jsx)(n.a,{href:"https://github.com/cardano-scaling/wg-hydra",children:"Read more here"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsxs)(n.p,{children:["The monthly review meeting for June 2024 was held on 2024-06-24 via Google Meet,\npresenting these ",(0,t.jsx)(n.a,{href:"https://docs.google.com/presentation/d/137n0SQ2tnWCrDfPieT3JSU8MDnJDTKuLE8ISSieRO4U/edit#slide=id.g1f87a7454a5_0_1392",children:"slides"})," and this ",(0,t.jsx)(n.a,{href:"https://drive.google.com/file/d/1hIn4NWv6YRtwv_7RUGlXP8ObwpPbMNJy/view",children:"recording"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8181:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2024-06-hydra-roadmap-24203eeb3231fdd2c51394142f3a0421.png"},3421:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2024-06-mithril-cardano-integration-c27c647be35edf4ecef9e97edf5e7f26.png"},1923:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2024-06-mithril-cardano-tx-prover-throughput-618f08e9d33de348e90c8082633997b7.png"},8112:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2024-06-mithril-cardano-tx-roadmap-cabdd31d2b5c75afc6aa187938cd429d.jpg"},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var t=i(6540);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);