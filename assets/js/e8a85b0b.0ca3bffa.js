"use strict";(self.webpackChunkcardano_scaling_website=self.webpackChunkcardano_scaling_website||[]).push([[4948],{2962:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var t=n(4848),s=n(8453);const a={title:"May 2025",slug:"2025-05",authors:["jpraynaud","noonio","ch1bo"],tags:["monthly"]},o=void 0,r={permalink:"/monthly/2025-05",editUrl:"https://github.com/cardano-scaling/website/tree/master/monthly/2025-05-monthly.md",source:"@site/monthly/2025-05-monthly.md",title:"May 2025",description:"This is a monthly report on the progress of \ud83d\udc32 Hydra and \ud83d\udee1 Mithril projects since April 2025. It serves as preparation for, and a written summary of, the monthly stakeholder review meeting. The meeting is announced on our Discord channels and held on Google Meet. This month, the meeting took place on May 28, 2025, using these slides, and you can see the recording here.",date:"2025-06-18T17:01:19.000Z",formattedDate:"June 18, 2025",tags:[{label:"monthly",permalink:"/monthly/tags/monthly"}],readingTime:6.49,hasTruncateMarker:!1,authors:[{name:"Jean-Philippe Raynaud",title:"Software Engineering Lead, IOG",url:"https://github.com/jpraynaud",imageURL:"https://github.com/jpraynaud.png",key:"jpraynaud"},{name:"Noon van der Silk",title:"Software Engineering Lead, IOG",url:"https://github.com/noonio",imageURL:"https://github.com/noonio.png",key:"noonio"},{name:"Sebastian Nagel",title:"Software Engineering Lead, IOG",url:"https://github.com/ch1bo",imageURL:"https://github.com/ch1bo.png",key:"ch1bo"}],frontMatter:{title:"May 2025",slug:"2025-05",authors:["jpraynaud","noonio","ch1bo"],tags:["monthly"]},unlisted:!1,prevItem:{title:"June 2025",permalink:"/monthly/2025-06"},nextItem:{title:"April 2025",permalink:"/monthly/2025-04"}},l={authorsImageUrls:[void 0,void 0,void 0]},d=[{value:"Mithril",id:"mithril",level:2},{value:"Roadmap",id:"roadmap",level:3},{value:"Distributions",id:"distributions",level:3},{value:"Dev blog",id:"dev-blog",level:3},{value:"Signing ancillary files of the Cardano database",id:"signing-ancillary-files-of-the-cardano-database",level:3},{value:"Cardano database certification (v1 and v2)",id:"cardano-database-certification-v1-and-v2",level:4},{value:"Signing ancillary files with IOG key",id:"signing-ancillary-files-with-iog-key",level:4},{value:"Signing ledger state snapshot with Mithril STM",id:"signing-ledger-state-snapshot-with-mithril-stm",level:4},{value:"All nodes must truncate the last immutable file at the same point at signing time",id:"all-nodes-must-truncate-the-last-immutable-file-at-the-same-point-at-signing-time",level:4},{value:"Implementation in a multi-node implementations ecosystem",id:"implementation-in-a-multi-node-implementations-ecosystem",level:4},{value:"Protocol status",id:"protocol-status",level:3},{value:"Hydra",id:"hydra",level:2},{value:"0.21.0 Release",id:"0210-release",level:3},{value:"Deposit fixes",id:"deposit-fixes",level:3},{value:"Blockfrost integration",id:"blockfrost-integration",level:3},{value:"Event log rotation",id:"event-log-rotation",level:3},{value:"Coding standards as a flake module",id:"coding-standards-as-a-flake-module",level:3},{value:"Roadmap update",id:"roadmap-update",level:3},{value:"Links",id:"links",level:2}];function h(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["This is a monthly report on the progress of \ud83d\udc32 Hydra and \ud83d\udee1 Mithril projects since April 2025. It serves as preparation for, and a written summary of, the monthly stakeholder review meeting. The meeting is announced on our Discord channels and held on Google Meet. This month, the meeting took place on May 28, 2025, using these ",(0,t.jsx)(i.a,{href:"https://docs.google.com/presentation/d/1iWbN_V3gku4Uwbvl1F8x8Dhi5M_E2nuidrb7oi1XjwE/edit?slide=id.g1f87a7454a5_0_1392#slide=id.g1f87a7454a5_0_1392",children:"slides"}),", and you can see the ",(0,t.jsx)(i.a,{href:"https://drive.google.com/file/d/1qdOu_3WXXxEbQg-IhVdgZFENgJKX2o6A/view?usp=sharing",children:"recording here"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:"mithril",children:"Mithril"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2025-05-01..2025-05-30",children:"Issues and pull requests closed in May"})}),"\n",(0,t.jsx)(i.h3,{id:"roadmap",children:"Roadmap"}),"\n",(0,t.jsx)(i.p,{children:"Below are the latest updates on our roadmap:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"DMQ signature diffusion prototype"})," ",(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/issues/2402",children:"#2402"}),": We have started the second phase of the implementation of the DMQ signature diffusion prototype"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Cardano database incremental snapshots MVP"})," ",(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/issues/2047",children:"#2047"}),": We have activated the incremental snapshots on the ",(0,t.jsx)(i.code,{children:"release-mainnet"})," network"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Redesign the website and improve documentation"})," ",(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/issues/2051",children:"#2051"}),": The home page redesign is in progress."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"distributions",children:"Distributions"}),"\n",(0,t.jsx)(i.p,{children:"In May, we have completed the following events:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Release of the new distribution ",(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/releases/tag/2517.1",children:(0,t.jsx)(i.code,{children:"2517"})})]}),"\n",(0,t.jsxs)(i.li,{children:["Release of the security advisory ",(0,t.jsx)(i.a,{href:"https://github.com/input-output-hk/mithril/security/advisories/GHSA-qv97-5qr8-2266",children:(0,t.jsx)(i.code,{children:"GHSA-qv97-5qr8-2266"})})]}),"\n",(0,t.jsxs)(i.li,{children:["Activation of the incremental Cardano database certification (Cardano DB v2) on the ",(0,t.jsx)(i.code,{children:"release-mainnet"})," network."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"In June, the following events are planned:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Release of a new distribution (",(0,t.jsx)(i.code,{children:"2523"}),")."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"dev-blog",children:"Dev blog"}),"\n",(0,t.jsx)(i.p,{children:"We have published the following post:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://mithril.network/doc/dev-blog/2025/05/07/client-security-advisory",children:"Mithril Cardano database snapshots security advisory"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://mithril.network/doc/dev-blog/2025/05/06/client-breaking-change",children:"Breaking changes in client library and CLI"})}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsxs)(i.a,{href:"https://mithril.network/doc/dev-blog/2025/05/05/distribution-2517",children:["Distribution ",(0,t.jsx)(i.code,{children:"2517"})," is now available"]}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"signing-ancillary-files-of-the-cardano-database",children:"Signing ancillary files of the Cardano database"}),"\n",(0,t.jsx)(i.p,{children:"Here is a summary of the recent changes related to the signing of ancillary files in the Cardano database, and of the next steps for signing them with the Mithril protocol:"}),"\n",(0,t.jsx)(i.h4,{id:"cardano-database-certification-v1-and-v2",children:"Cardano database certification (v1 and v2)"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"The Cardano database files, including ledger state snapshots and the last immutable file, differ across signers, which prevents Mithril from signing them."}),"\n",(0,t.jsx)(i.li,{children:"This inconsistency poses a risk, as it may be exploited in long-range attacks, especially when multiple aggregators are involved."}),"\n",(0,t.jsx)(i.li,{children:"A security alert has been published regarding this issue: GHSA-qv97-5qr8-2266."}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"signing-ancillary-files-with-iog-key",children:"Signing ancillary files with IOG key"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"The aggregator now signs ancillary files using GCP KMS and the IOG (Ancillary) key."}),"\n",(0,t.jsxs)(i.li,{children:["The same ",(0,t.jsx)(i.code,{children:"Ed25519"})," scheme as Genesis key signing is used for this process."]}),"\n",(0,t.jsx)(i.li,{children:"This change introduces a breaking change in the latest Mithril client, affecting both the Library and CLI."}),"\n",(0,t.jsx)(i.li,{children:"Users now have the option to download immutable files either with or without ancillary files."}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"signing-ledger-state-snapshot-with-mithril-stm",children:"Signing ledger state snapshot with Mithril STM"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Signing the ledger state snapshot with Mithril STM requires synchronized snapshots across all Cardano nodes."}),"\n",(0,t.jsx)(i.li,{children:"If the process is deterministic, it becomes vulnerable to targeted attacks; therefore, a random delay per node should be used."}),"\n",(0,t.jsx)(i.li,{children:"The signing should occur only once per epoch, and a new data type for signing will be introduced."}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"all-nodes-must-truncate-the-last-immutable-file-at-the-same-point-at-signing-time",children:"All nodes must truncate the last immutable file at the same point at signing time"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["The existing tools for this include the ",(0,t.jsx)(i.code,{children:"db-truncater"})," CLI, which is complex and requires database duplication."]}),"\n",(0,t.jsxs)(i.li,{children:["Another available tool is Pallas ",(0,t.jsx)(i.code,{children:"Hardano"})," from TxPipe, which can be used for chunk and index truncation."]}),"\n",(0,t.jsx)(i.li,{children:"Alternatively, it is possible to avoid embedding the last immutable file altogether."}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"implementation-in-a-multi-node-implementations-ecosystem",children:"Implementation in a multi-node implementations ecosystem"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Implementing this in a multi-node ecosystem requires canonical formats for ledger state snapshots and immutable files."}),"\n",(0,t.jsx)(i.li,{children:"These canonical formats must be portable across all Cardano node implementations."}),"\n",(0,t.jsx)(i.li,{children:"A new CIP (Cardano Improvement Proposal) is currently being developed to standardize these formats."}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"protocol-status",children:"Protocol status"}),"\n",(0,t.jsxs)(i.p,{children:["The protocol operated smoothly on the ",(0,t.jsx)(i.code,{children:"release-mainnet"})," network with the following metrics:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Registered stake"}),": ",(0,t.jsx)(i.code,{children:"4.6B\u20b3"})," (",(0,t.jsx)(i.code,{children:"21%"})," of the Cardano network)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Registered SPOs"}),": ",(0,t.jsx)(i.code,{children:"240"})," (",(0,t.jsx)(i.code,{children:"9%"})," of the Cardano network)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Full Cardano database restorations"}),": ",(0,t.jsx)(i.code,{children:"600"})," restorations"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Signer software adoption"}),": ",(0,t.jsx)(i.code,{children:"72.2%"})," of the SPOs are running a recent version (one of the last three releases)."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["You can find more information on the ",(0,t.jsx)(i.a,{href:"https://lookerstudio.google.com/s/mbL23-8gibI",children:"Mithril protocol insights dashboard"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:"hydra",children:"Hydra"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://github.com/cardano-scaling/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2025-05-01..2025-05-30",children:"Issues and pull requests closed in May"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.img,{alt:"The roadmap with features and ideas",src:n(1537).A+"",width:"1839",height:"965"}),"\n",(0,t.jsx)("small",{children:(0,t.jsxs)("center",{children:["Snapshot of the new ",(0,t.jsx)(i.a,{href:"https://github.com/orgs/cardano-scaling/projects/7/views/6",children:"roadmap"})," with features and ideas"]})})]}),"\n",(0,t.jsxs)(i.p,{children:["This month, notable ",(0,t.jsx)(i.a,{href:"https://github.com/orgs/cardano-scaling/projects/7/views/6",children:"roadmap"})," updates include:"]}),"\n",(0,t.jsx)(i.h3,{id:"0210-release",children:(0,t.jsx)(i.a,{href:"https://github.com/cardano-scaling/hydra/releases/tag/0.21.0",children:"0.21.0 Release"})}),"\n",(0,t.jsxs)(i.p,{children:["We're very excited about this one as it is a huge release incorporating the\ncompletely new networking layer via etcd. This means a few changes to the\ncommand-line arguments (which you can read about in the ",(0,t.jsx)(i.a,{href:"https://github.com/cardano-scaling/hydra/releases/tag/0.21.0",children:"release\nnotes"}),").\nOther important features are bounded memory usage, and some important bugfixes\naround the observation of increments; but there is much more to read about in\nthe changelog! Go and grab the latest version now!"]}),"\n",(0,t.jsx)(i.h3,{id:"deposit-fixes",children:"Deposit fixes"}),"\n",(0,t.jsxs)(i.p,{children:["Over the last two months, we have been fixing the incremental commit workflow and making it more robust against various edge cases related to rollbacks. Before, the ",(0,t.jsx)(i.code,{children:"hydra-node"})," was very optimistic when observing a deposit posted to the chain, while possibility of double spends of the deposited funds must be prevented in presence of rollbacks."]}),"\n",(0,t.jsxs)(i.p,{children:["This is now done by introducing a deposit period, which limits the minimum and maximum age of a deposit to be considered. The ",(0,t.jsx)(i.code,{children:"--deposit-period"})," command line option supersedes ",(0,t.jsx)(i.code,{children:"--deposit-deadline"})," which was only setting the time before a deposit may be picked up. The picture below shows the life cycle of a deposit which is only considered ",(0,t.jsx)(i.strong,{children:"active"})," after one deposit period has passed, and it is considered ",(0,t.jsx)(i.strong,{children:"expired"})," if less then a deposit period is left before the deadline; from where onwards a user may recover the funds. The upper validity bound of the deposit transaction is used as a starting point and we also added server outputs to signal activation and expiry of deposits. A query endpoint to list all known deposits is not avaiable right now, but likely introduced in course of doing ",(0,t.jsx)(i.a,{href:"https://github.com/cardano-scaling/hydra/issues/1812",children:"hydra#1812"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2408).A+"",width:"6163",height:"2595"})}),"\n",(0,t.jsxs)(i.p,{children:["See also the ",(0,t.jsx)(i.a,{href:"https://hydra.family/head-protocol/unstable/docs/dev/protocol#rollback-resistance",children:"developer documentation"})," for more details about rollback resistance, while the ",(0,t.jsx)(i.a,{href:"https://hydra.family/head-protocol/unstable/docs/configuration#deposit-period",children:"user manual"})," has more practical advice on how to configure the deposit period."]}),"\n",(0,t.jsx)(i.h3,{id:"blockfrost-integration",children:"Blockfrost integration"}),"\n",(0,t.jsxs)(i.p,{children:["After making posible to publish hydra scripts using Blockfrost we continued\nwith the integration so now ",(0,t.jsx)(i.code,{children:"hydra-node"})," can run using a Blockfrost backend.\nThis option makes running the ",(0,t.jsx)(i.code,{children:"hydra-node"})," a bit easier since one does not need\nto run local ",(0,t.jsx)(i.code,{children:"cardano-node"})," to connect to which greatly simplifies the setup."]}),"\n",(0,t.jsxs)(i.p,{children:["Blockfrost is videly used so making this integration possible in ",(0,t.jsx)(i.code,{children:"hydra-node"}),"\nshould make experimenting and prototyping with Hydra more approachable."]}),"\n",(0,t.jsx)(i.h3,{id:"event-log-rotation",children:"Event log rotation"}),"\n",(0,t.jsx)(i.p,{children:"Event log rotation was introduced to improve recovery times by reducing the number of events that need to be replayed on startup. This is achieved by periodically replacing the current event log with a new one that starts from a checkpoint event, which captures the latest aggregated head state."}),"\n",(0,t.jsx)(i.p,{children:"Only the rotated logs are saved with an incrementing logId, while the main state file name remains unchanged to preserve backward compatibility. Rotation can be enabled via the new optional --persistence-rotate-after command line option, which specifies the number of events after which rotation should occur."}),"\n",(0,t.jsx)(i.p,{children:"Additionally, a server output was added to notify external agents when a checkpoint occurs, enabling them to perform archival or cleanup actions without interrupting the Hydra head."}),"\n",(0,t.jsx)(i.h3,{id:"coding-standards-as-a-flake-module",children:"Coding standards as a flake module"}),"\n",(0,t.jsxs)(i.p,{children:["In order to better standardise code quality across multiple repositories, we have extracted\nall of our quality control tooling to a flake-parts module called ",(0,t.jsx)(i.a,{href:"https://github.com/cardano-scaling/hydra-coding-standards",children:"hydra-coding-standards"}),".\nThis contains all kinds of formatting checks, dead code elimination, and static analysis checks\nfor haskell and nix, as well as typo checking. We are rolling these standardisation checks to more\ncardano-scaling repositories, which will enable a more uniform experience for active and external contributors."]}),"\n",(0,t.jsx)(i.h3,{id:"roadmap-update",children:"Roadmap update"}),"\n",(0,t.jsx)(i.p,{children:"We continue to focus on UX improvements and better logging/errors, while also\nstarting to tackle more of the user-reported bugs and feature requests."}),"\n",(0,t.jsx)(i.h2,{id:"links",children:"Links"}),"\n",(0,t.jsxs)(i.p,{children:["The monthly review meeting for May 2025 took place on May 28, 2025, via Google Meet.\nThe presentation ",(0,t.jsx)(i.a,{href:"https://docs.google.com/presentation/d/1iWbN_V3gku4Uwbvl1F8x8Dhi5M_E2nuidrb7oi1XjwE/edit?slide=id.g1f87a7454a5_0_1392#slide=id.g1f87a7454a5_0_1392",children:"slides"})," and the ",(0,t.jsx)(i.a,{href:"https://drive.google.com/file/d/1qdOu_3WXXxEbQg-IhVdgZFENgJKX2o6A/view?usp=sharing",children:"recording"})," are available for review."]})]})}function c(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},2408:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/2025-05-hydra-deposits-3cf2888242b2eb38050afeb1fc32ca9f.jpg"},1537:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/2025-05-hydra-roadmap-022bee137536fea0241f5cbe24e639b0.png"},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>r});var t=n(6540);const s={},a=t.createContext(s);function o(e){const i=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:i},e.children)}}}]);