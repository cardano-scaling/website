<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-monthly" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">May 2023 | Cardano Scaling</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cardano-scaling.org/monthly/2023-05"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="May 2023 | Cardano Scaling"><meta data-rh="true" name="description" content="This report summarizes the work on Hydra since April 2023. It serves as"><meta data-rh="true" property="og:description" content="This report summarizes the work on Hydra since April 2023. It serves as"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-05-30T14:30:18.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ch1bo,https://github.com/pgrange,https://github.com/ffakenz"><meta data-rh="true" property="article:tag" content="monthly"><link data-rh="true" rel="icon" href="/img/faviconl.io"><link data-rh="true" rel="canonical" href="https://cardano-scaling.org/monthly/2023-05"><link data-rh="true" rel="alternate" href="https://cardano-scaling.org/monthly/2023-05" hreflang="en"><link data-rh="true" rel="alternate" href="https://cardano-scaling.org/monthly/2023-05" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/monthly/rss.xml" title="Cardano Scaling RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/monthly/atom.xml" title="Cardano Scaling Atom Feed">



<script src="https://plausible.io/js/script.js" defer="defer" data-domain="hydra.family"></script><link rel="stylesheet" href="/assets/css/styles.d23c1e19.css">
<script src="/assets/js/runtime~main.4d3c2d81.js" defer="defer"></script>
<script src="/assets/js/main.8dc0d6cc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/scaling-logo-draft-black.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/scaling-logo-draft-white.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Cardano Scaling</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/monthly">Monthly reports</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cardano-scaling" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Monthly reports</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-08">August 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-06">June 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-05">May 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-04">April 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-03">March 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-02">February 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2025-01">January 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-11">November 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-10">October 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-09">September 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-08">August 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-07">July 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-06">June 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-05">May 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-04">April 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-03">March 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-02">February 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-01">January 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-11">November 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-10">October 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-09">September 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-08">August 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-07">July 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-06">June 2023</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/monthly/2023-05">May 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-04">April 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-03">March 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-02">February 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-01">January 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2022-12">December 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2022-11">November 2022</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since April 2023. It serves as"><header><h1 class="title_f1Hy" itemprop="headline">May 2023</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-05-30T14:30:18.000Z" itemprop="datePublished">May 30, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead, IOG</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pgrange.png" alt="Pascal Grange" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Pascal Grange</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer, IOG</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ffakenz.png" alt="Franco Testagrossa" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Franco Testagrossa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer, IOG</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since April 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1anUC3Z1idloyR6uwiSHLZtV6-LQvUcByHPMUgCBOVIA" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">​</a></h2>
<p>This month the team released version 0.10.0 which includes many important features.
The project <a href="https://github.com/orgs/input-output-hk/projects/21" target="_blank" rel="noopener noreferrer">roadmap</a> was
only slightly updated this month and already saw one more feature completed:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap without idea items" src="/assets/images/2023-05-roadmap-ex-ideas-190169ec27dae76ae437be73558443c0.png" width="2133" height="752" class="img_ev3q">
<small><center>The roadmap without idea items</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-0100">Release 0.10.0<a href="#release-0100" class="hash-link" aria-label="Direct link to Release 0.10.0" title="Direct link to Release 0.10.0">​</a></h4>
<ul>
<li>
<p>First mainnet compatible release of <code>hydra-node</code> including technical changes and documentation</p>
</li>
<li>
<p>Mainnet exposure currently limited to 100₳ per participant</p>
</li>
<li>
<p>Added some missing features to the client API (short-term solutions)</p>
</li>
<li>
<p>Some quality of life improvements in running the <code>hydra-node</code></p>
</li>
<li>
<p><a href="https://github.com/input-output-hk/hydra/releases/tag/0.10.0" target="_blank" rel="noopener noreferrer">Full release notes</a> and a list of <a href="https://github.com/input-output-hk/hydra/milestone/8?closed=1" target="_blank" rel="noopener noreferrer">delivered features</a></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-roadmap-updates">Notable roadmap updates<a href="#notable-roadmap-updates" class="hash-link" aria-label="Direct link to Notable roadmap updates" title="Direct link to Notable roadmap updates">​</a></h4>
<ul>
<li>
<p>Got new input and a concrete scenario for benchmarking (off-chain) performance
of a Hydra head. As it is a very basic one, we moved the item from an
idea to a feature and started work on it.</p>
</li>
<li>
<p>Added a new feature item to add Hydra as a tool to developer platforms within our agenda of <a href="/monthly/2023-01#themes-for-2023">promoting Hydra as an open-source platform</a> for scalability on Cardano.</p>
</li>
<li>
<p>Already completed a first feature for 0.11.0 and considering whether to release it as
early as possible with latest advances.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="The latest roadmap with features and ideas" src="/assets/images/2023-05-roadmap-a6eb7e109a1fe9a3beff03ac1824762b.png" width="2421" height="1112" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">​</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-04-26..2023-05-24" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="timed-transactions-196">Timed transactions <a href="https://github.com/input-output-hk/hydra/issues/196#" target="_blank" rel="noopener noreferrer">#196</a><a href="#timed-transactions-196" class="hash-link" aria-label="Direct link to timed-transactions-196" title="Direct link to timed-transactions-196">​</a></h4>
<p>To realize the Hydra Head protocol, a <code>hydra-node</code> observes and follows the
chain progress on the layer 1 (L1). Until now, this component was only observing
protocol related transactions. Now, on every block roll forward, a <code>Tick</code> event
carrying the notion of time from L1 is observed by the <code>hydra-node</code> and is used
to validate transactions in a Hydra head. This means that clients can submit
time bounded transactions to an open head and expect them to be validated using
the same slot that would be used on L1. It is important to mention that time
only advances on L1 when a block is produced.</p>
<p><img decoding="async" loading="lazy" alt="Timed transactions in a Hydra Head state channel" src="/assets/images/2023-05-timed-transactions-a2a620ded97818a461ae1a1a3caa3388.jpg" width="1609" height="970" class="img_ev3q"> <small><center>Timed transactions in a Hydra Head state channel</center></small></p>
<p>This feature will make the Hydra L2 ledger now en-par with UTXO features
available on the Cardano L1. A logical next step in this direction could be to
make time in the state channel advance every configured <code>slotLength</code> (e.g. every
second) using the system clock in between blocks as a form of <a href="https://en.wikipedia.org/wiki/Dead_reckoning" target="_blank" rel="noopener noreferrer">dead reckoning</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing---ledger-genesis-863">Removing --ledger-genesis <a href="https://github.com/input-output-hk/hydra/pull/863" target="_blank" rel="noopener noreferrer">#863</a><a href="#removing---ledger-genesis-863" class="hash-link" aria-label="Direct link to removing---ledger-genesis-863" title="Direct link to removing---ledger-genesis-863">​</a></h4>
<p>The hydra-node had two command line options to configure the ledger used for validating layer 2 (L2) transactions: <code>--ledger-protocol-parameters</code> and <code>--ledger-genesis</code>. The former option, which is self-explanatory, allows configuration of the Cardano protocol parameters to be used. Often, the same parameters as those on L1 are configured, or similar parameters with reduced fees, for example. On the other hand, the second option required the <code>genesis-shelley.json</code> file previously used to initialize the Shelley era by the cardano-node.</p>
<p>When we started using the current slot in the L2 ledger (see above), we realized
that only the start time and slot length are effectively used from that
configuration file. Moreover, it would be quite surprising if those were
different and slots would be longer or shorter on L2 (unless explicitly
configured). We opted to remove the option altogether and have the <code>hydra-node</code>
fetch the genesis parameters from the Cardano network. This makes the system
easier to configure and more isomorphic to L1.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="improving-ci-runtime">Improving CI runtime<a href="#improving-ci-runtime" class="hash-link" aria-label="Direct link to Improving CI runtime" title="Direct link to Improving CI runtime">​</a></h4>
<p>The Hydra project <a href="https://hydra.family/head-protocol/adr/12" target="_blank" rel="noopener noreferrer">embraces Test Driven Development</a> and implements
<a href="https://github.com/input-output-hk/hydra/actions/workflows/ci-nix.yaml" target="_blank" rel="noopener noreferrer">Continuous
Integration</a>
(CI), checking all these tests pass and more.</p>
<p>The CI could sometimes take as long as an hour or
more to run, which has a negative impact on the project&#x27;s workflow.
For instance, all the project&#x27;s branches have to be <a href="https://github.com/input-output-hk/hydra/wiki/Coding-Standards#merge-prs-with-merge-commits-and-rebase-branches-on-top-of-master" target="_blank" rel="noopener noreferrer">fast-forward with
master</a>
before being merged.
So if all the tests on a branch are green and the pull request has been
approved but is lagging a bit behind master, it has to be rebased, so the
CI has to run again, incurring a one hour or so delay in this case before
being able to merge it. The situation becomes worse when several pull requests
are <em>ready</em> to be merged.</p>
<p>Analyzing the run from <a href="https://github.com/input-output-hk/hydra/actions/runs/4933005294" target="_blank" rel="noopener noreferrer">May, 10th</a>
we can see that:</p>
<ul>
<li>Building and testing takes 19 minutes for the longest</li>
<li>Generating haddock documentation and running the benchmarks takes 28 minutes
for the longest</li>
<li>Documentation (which will need artifacts generated in previous steps) will take
14 minutes</li>
<li>In total, this run took 1 hour and 16 minutes.</li>
</ul>
<p>Let&#x27;s focus on the build and the testing stage first. We&#x27;re expecting the
plutus-merkle-tree to run fast but <a href="https://github.com/input-output-hk/hydra/actions/runs/4933005294/jobs/8816564512" target="_blank" rel="noopener noreferrer">it took 8 minutes and 52
seconds</a>
, 7m and 11 seconds being spent setting up the build environment.
In other words, 81% of the build time is downloading binary dependencies from some nix cache.</p>
<p>Compiling the code requires cabal and other nix dependencies that will trigger
massive downloads. Instead, let&#x27;s, straight on, run the tests with nix and let
nix decide what needs to be compiled. Sometimes, most of the code will not have
changed and the test binary will already be available in some nix cache to be run
without any compilation step.</p>
<p>This has been done in <a href="https://github.com/input-output-hk/hydra/pull/867" target="_blank" rel="noopener noreferrer">#867</a>.
Merging this PR, the <a href="https://github.com/input-output-hk/hydra/actions/runs/5003046049" target="_blank" rel="noopener noreferrer">build on master took 45
minutes</a> and,
specifically, the same <a href="https://github.com/input-output-hk/hydra/actions/runs/5003046049/jobs/8963773583" target="_blank" rel="noopener noreferrer">plutus-merkle-tree
job</a>
only took 1 minute and 44 seconds, only 20% of the time observed before.</p>
<p>Then, let&#x27;s focus on documentation (14 minutes). Most of the time spent by this
process is website optimization. It makes sense for the documentation that will
actually be published on the website (master or release). But what about all
the builds in branches for which the website will never be published?
We need to keep this documentation step in branches because it gives us sanity
checks, preventing broken links, for instance. But we can definitely remove the
optimization step.</p>
<p>This has been done in <a href="https://github.com/input-output-hk/hydra/pull/880" target="_blank" rel="noopener noreferrer">#880</a>
and it <a href="https://github.com/input-output-hk/hydra/actions/runs/5067084637/jobs/9098252031" target="_blank" rel="noopener noreferrer">saves 10 minutes</a>
from this step.</p>
<p>Our first goal was to reduce CI execution time when pushing
on branches and this has been improved. We&#x27;re now having execution time
significantly under 30 minutes where it used to be 45 minutes or even an hour.</p>
<p>We had some issues with compilation output, obfuscated by nix, which have been
solved by <a href="https://github.com/input-output-hk/hydra/pull/889" target="_blank" rel="noopener noreferrer">#889</a>.</p>
<p>Every morning, we rebuild our master branch and we can observe the whole
execution time on the following graph (in seconds):</p>
<p><img decoding="async" loading="lazy" alt="CI perf" src="/assets/images/2023-05-ci-perf-6f40f4793f448feae776a3e87c1c4d59.png" width="1942" height="1142" class="img_ev3q"> <small><center>C.I. execution total execution time</center></small></p>
<p>Although we observed performance improvements on branches CI execution time,
master execution time has not been reduced that much. We may save 10 minutes
from the documentation step because optimizing the <em>unstable</em> documentation is
maybe not worthwhile.
But what&#x27;s more problematic here is the process variability.</p>
<p>This variability can be explained by nix cache misses. That&#x27;s something we need
to investigate. It&#x27;s hard to optimize a process with buffers, especially here
where in case of a cache miss, recompilation has to happen and takes time.
So every cache miss introduces several minutes of overhead which explains why we
observe so much variation between two days with this master execution time.</p>
<p>Next steps:</p>
<ul>
<li>Inspect why we have an unexpected random cache miss</li>
<li>Improve haddock generation time (15 minutes)</li>
<li>Reduce bench time (we probably don&#x27;t want to run the whole benchmark suite for
every single commit, or a smaller one)</li>
<li>Focus on the changed area (do not compile everything to generate the monthly
report)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydrozoa-850">Hydrozoa <a href="https://github.com/input-output-hk/hydra/discussions/850" target="_blank" rel="noopener noreferrer">#850</a><a href="#hydrozoa-850" class="hash-link" aria-label="Direct link to hydrozoa-850" title="Direct link to hydrozoa-850">​</a></h4>
<p>This month, the project saw a new kind of contribution from the community.
@GeorgeFlerovsky has written a research piece about an adaptation of the
(Coordinated) Hydra Head protocol into a new flavor - Hydrozoa. The article is
currently being examined and <a href="https://github.com/input-output-hk/hydra/discussions/850" target="_blank" rel="noopener noreferrer">discussed on
GitHub</a>. Feedback so
far has been positive. Of course, one does not simply change the Hydra Head
protocol (pun intended), but the ideas contained could drive evolution and
be followed up with concrete protocol extensions. Very much like the ideas
presented in the original paper.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-for-payments-project-update">Hydra for Payments project update<a href="#hydra-for-payments-project-update" class="hash-link" aria-label="Direct link to Hydra for Payments project update" title="Direct link to Hydra for Payments project update">​</a></h4>
<p>In this collaborative effort between IOG and ObsidianSystems, we are pushing the
frontiers of using Hydra in payment use cases. It will lower the entry barrier
for developers and ultimately users to leverage Hydra L2 for sending
and receiving ada and Cardano native assets with very low fees and sub-second
finality.</p>
<p>The project is in its second phase where the open-source
<a href="https://github.com/obsidiansystems/hydra-pay" target="_blank" rel="noopener noreferrer">hydra-pay</a> library is being
expanded with necessary features while the team pushes for building a
dedicated mobile application.</p>
<p>With the recently released hydra-pay version
<a href="https://github.com/obsidiansystems/hydra-pay/releases/tag/v0.2.0" target="_blank" rel="noopener noreferrer">0.2.0</a>, an
end-to-end workflow of the Android App nicknamed &quot;HydraNow&quot; can be realized.
This app will act as a layer 2 wallet quite like a Bitcoin Lightning Wallet and
drives feature development in both <code>hydra-pay</code> and <code>hydra</code> in the background.</p>
<p><img decoding="async" loading="lazy" alt="Two instances of HydraNow (in browser) connected via a hydra-pay channel" src="/assets/images/2023-05-hydra-now-a33a097233ff47e7cf2ccfc064abdd7f.png" width="3216" height="1572" class="img_ev3q"> <small><center>Two instances of HydraNow (in browser) connected via a hydra-pay channel</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spanish-translation">Spanish translation<a href="#spanish-translation" class="hash-link" aria-label="Direct link to Spanish translation" title="Direct link to Spanish translation">​</a></h4>
<p>Last, but not least, we would like to thank @Agustinblockchain for their
contribution of a <a href="https://github.com/input-output-hk/hydra/pull/866" target="_blank" rel="noopener noreferrer">Spanish translation #866</a>
of the <a href="https://hydra.family/head-protocol/unstable/es/" target="_blank" rel="noopener noreferrer">hydra.family website</a> 🇪🇸 🎉</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The monthly review meeting for May was held on 2023-05-24 via Google Meet with
these <a href="https://docs.google.com/presentation/d/1anUC3Z1idloyR6uwiSHLZtV6-LQvUcByHPMUgCBOVIA" target="_blank" rel="noopener noreferrer">slides</a> and here is the <a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>The monthly review meeting was lively and we had stakeholders from IOG as well
as interested community members join. They were well served by two very nice
demos shown by ObsidianSystems and IOG teams.</p>
<p>After having dealt with some issues last month, we are happy to have
the first mainnet-capable version released and have already another feature
completed this month.</p>
<p>It is great to see that more and more contributors from the community are
stepping up to become advocates of the technology. A community is forming and we
realize that the project could need some help from someone dedicated to keep
track of all the great things happening. What a great problem to have!</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/cardano-scaling/website/tree/master/monthly/2023-05-monthly.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/monthly/2023-06"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">June 2023</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/monthly/2023-04"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">April 2023</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#roadmap" class="table-of-contents__link toc-highlight">Roadmap</a></li><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a></li><li><a href="#community" class="table-of-contents__link toc-highlight">Community</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; Conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/orgs/cardano-scaling/people" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributors</a></li></ul></div></div></div></footer></div>
</body>
</html>